
<div ng-show="showRecentPosts" class="ng-scope layout-row">

  <div class="flex">
    <div class="retro-header">
      {{retroName}}
    </div>
  </div>
  
  <div class="flex-30">
    <md-radio-group class="sort-by" ng-model="sortBy" layout="row" ng-change='sortByChanged(sortBy)'>
      <md-radio-button value="0" class="md-primary">Latest</md-radio-button>
      <md-radio-button value="1"> Most Votes </md-radio-button>
    </md-radio-group>
  </div>
</div>

<div ng-if="includeMobileTemplate" ng-show="showRecentPosts">
    
  <md-tabs md-dynamic-height md-border-bottom>
        
    <md-tab ng-repeat="(fieldId, name) in currentRetroType.fields" label="{{name}}">
      <md-tab-label>
          <button class="mdl-button mdl-js-button mdl-button--fab mdl-color--amber-400 mdl-shadow--4dp mdl-js-ripple-effect add" id="{{fieldId}}" ng-click="addPostClicked(fieldId)">
            <i class="material-icons">add_box</i>
          </button>
          <span>{{name}}</span>
      </md-tab-label>
   
      <md-tab-body>
        <div ng-data="postList"></div>
        <ul class="posts-container">
          <li ng-repeat="item in postList" ng-if="item.type == fieldId" class="post post-{{item.postId}}" >          
            <message-card item="item"></message-card>
          </li>
        </ul>
      </md-tab-body>
    </md-tab>     
        
 </md-tabs>
</div>
    
<div ng-if="includeDesktopTemplate" ng-show="showRecentPosts">
  <!-- Show a list of recent posts -->
  <div class="mdl-grid">
    <div ng-repeat="(fieldId, name) in currentRetroType.fields" class="mdl-cell mdl-cell--4-col">
      <div class="addpost">
        <button class="mdl-button mdl-js-button mdl-button--fab mdl-color--amber-400 mdl-shadow--4dp mdl-js-ripple-effect add" id="{{fieldId}}" ng-click="addPostClicked(fieldId)">
          <i class="material-icons">add_box</i>
        </button>
        <h2 class="add" id="{{fieldId}}">{{name}}</h2>
      </div>
      <div ng-data="postList"></div>
      <ul class="posts-container">
        <li ng-repeat="item in postList" ng-if="item.type == fieldId" class="post post-{{item.postId}}" >          
          <message-card item="item"></message-card>
        </li>
      </ul>
    </div>
    
    
  </div>
</div>